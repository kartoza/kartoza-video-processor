# Prompt Log

## 2026-01-18

**Prompt:** using the folder above ../kartoza-timesheets-app, start a new github repo with all the niceties for ci, release creation, nix flakes, makefile, and a nice neat code base. The go app should reimplement the logic in /etc/xdg/hypr/scripts/screen-recorder.sh in neat modular go. Use the same design aesthetic, components etc. as used in the timesheet app

**Summary:** Create a new Go application (kartoza-video-processor) that reimplements the screen-recorder.sh bash script functionality. The application should:
1. Have CI/CD with GitHub Actions (ci.yml, release.yml)
2. Use Nix flakes for builds and dev environment
3. Include a comprehensive Makefile
4. Follow the same project structure as kartoza-timesheets-app
5. Use Bubble Tea for TUI
6. Use Cobra for CLI commands
7. Implement modular Go code for:
   - Monitor detection (hyprctl integration)
   - Screen recording (wl-screenrec)
   - Audio recording (pw-record)
   - Webcam recording (ffmpeg/v4l2)
   - Audio processing (noise reduction, normalization)
   - Video/audio merging (ffmpeg)
   - Desktop notifications

---

**Prompt:** have the same splash animation on start and exit

**Summary:** Add the same splash screen animations from kartoza-timesheet-app:
1. Entry splash: Logo expands from 5% to 100% with easeInOutCubic easing (3 seconds)
2. Exit splash: Logo shrinks from 100% to 5% with easeInOutCubic easing (2 seconds)
3. Support for Kitty graphics protocol with PNG logo
4. Fallback to ASCII art for non-Kitty terminals
5. Skippable with any key press

---

**Prompt:** please use the guide in ../StandardApplicationDesign.drawio.png to get the layout consistent with the timesheet app. Also use the same brand colours as the kartoza timesheet app

**Summary:** Update TUI to follow the standard Kartoza application layout:
1. Header area at top: "Application Title - Page Title" with status indicators
2. Main content area: Centered horizontally, anchored to top vertically
3. Navigation shortcut keys: Centered at bottom of screen
4. Brand colors from widgets.go:
   - ColorOrange (#DDA036) - Primary/Active
   - ColorBlue (#569FC6) - Secondary/Links
   - ColorGray (#9A9EA0) - Inactive/Subtle
   - ColorWhite (#FFFFFF) - Text
   - ColorDarkGray (#3A3A3A) - Background
   - ColorRed (#E95420) - Error/Recording
   - ColorGreen (#4CAF50) - Success

---

**Prompt:** when the user starts recording by pressing space, there should be a 5s count in using a super bit termdash (https://github.com/mum4k/termdash) count down. During that time the user can go to the screen they want to record. Each second count off except 0 should be accompanied by an audible beet of descending tone

**Summary:** Add 5-second countdown before recording starts:
1. Big segment-style numbers displayed centered on screen (5, 4, 3, 2, 1, GO!)
2. Each second (5-1) plays a descending tone beep using speaker-test or paplay
3. Countdown gives user time to switch to the screen they want to record
4. Uses termdash-style segment display for large readable numbers
5. "GO!" displayed briefly before recording starts (no beep on GO)
